let e=null,t="asc";const n=/^[a-zA-Z\s]+$/,a=document.querySelector("table"),l=document.querySelector("thead"),o=document.querySelector("tbody"),r=[...o.querySelectorAll("tr")],s=e=>{r.forEach(e=>{e.classList.remove("active")}),e.classList.add("active")};r.forEach(e=>{e.addEventListener("click",()=>{s(e)})}),l.addEventListener("click",n=>{let a=n.target.cellIndex;a===e?t="asc"===t?"desc":"asc":(e=a,t="asc;");let l=[...o.querySelectorAll("tr")].sort((e,t)=>{let n=e.cells[a].innerText,l=t.cells[a].innerText;switch(a){case 0:case 1:case 2:return n.localeCompare(l);case 3:return Number(n)-Number(l);case 4:return parseFloat(n.slice(1))-parseFloat(l.slice(1))}});"desc"===t&&l.reverse(),o.append(...l)});const c=document.createElement("form");c.classList.add("new-employee-form"),document.body.append(c),[{label:"Name",name:"name",type:"text"},{label:"Position",name:"position",type:"text"},{label:"Country",name:"office",type:"select",options:["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"]},{label:"Age",name:"age",type:"number"},{label:"Salary",name:"salary",type:"number"}].forEach(({label:e,name:t,type:n,options:a})=>{let l=document.createElement("label");l.innerHTML=`${e}: ${"select"===n?`<select name="${t}" data-qa="${t}">
        ${a.map(e=>`<option value="${e}">${e}</option>`).join("")}
      </select>`:`<input name="${t}" data-qa="${t}" type="${n}">`}`,c.append(l)});const i=document.createElement("button");i.textContent="Save to table",c.append(i);const d=(e,t)=>{let n=document.createElement("div");return n.setAttribute("data-qa","notification"),n.classList=`notification ${t}`,n.innerText=e,n};c.addEventListener("submit",e=>{e.preventDefault();let t=new FormData(c),a=t.get("position").trim(),l=t.get("salary").trim(),r=t.get("office").trim(),s=t.get("name").trim(),i=t.get("age").trim(),u=e=>n.test(e);for(let{condition:e,text:t}of[{condition:s.length<4,text:"Name value has less than 4 letters"},{condition:!u(s)||!u(a),text:"Name and Position must contain only Latin letters and spaces."},{condition:!a.length,text:"Position field cannot be empty"},{condition:18>+i||+i>90,text:"Age value is less than 18 or more than 90"},{condition:0>=+l,text:"Add salary"}])if(e){document.body.append(d(t,"error"));return}let m=[s,a,r,i,`$${(+(l/1e3)).toFixed(3).replace(".",",")}`],p=o.insertRow(-1);m.forEach((e,t)=>{p.insertCell(t).innerText=e}),document.body.append(d("Employee successfully added","success")),c.reset(),setTimeout(()=>{document.querySelectorAll(".notification").forEach(e=>{e.remove()})},3e3)});let u=null;a.addEventListener("dblclick",e=>{let t=e.target.closest("td");t&&(u=t.textContent,t.innerHTML=`<input class="cell-input" value="${u}">`,t.querySelector(".cell-input").focus())}),a.addEventListener("blur",e=>{let t=e.target;t.classList.contains("cell-input")&&(t.closest("td").innerText=t.value().trim()||u,u=null)},!0),a.addEventListener("keypress",e=>{let t=e.target;if("Enter"!==e.key&&!t.classList.contains("cell-input"))return;let a=t.value().trim();if(!n.test(a)){alert("Use only Latin letters and spaces."),e.preventDefault();return}t.closest("td").innerText=a||u,u=null});
//# sourceMappingURL=index.e4760e9d.js.map
